<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="357px" preserveAspectRatio="none" style="width:681px;height:357px;background:#FFFFFF;" version="1.1" viewBox="0 0 681 357" width="681px" zoomAndPan="magnify"><defs/><g><!--MD5=[521817ab83e81da341a3f4b5e91bae41]
class Command--><g id="elem_Command"><rect codeLine="4" fill="#F1F1F1" height="97.4648" id="Command" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="71" y="23"/><ellipse cx="86" cy="39" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M88.4731,45.1431 Q87.8921,45.4419 87.2529,45.5913 Q86.6138,45.7407 85.9082,45.7407 Q83.4014,45.7407 82.0815,44.0889 Q80.7617,42.437 80.7617,39.3159 Q80.7617,36.1865 82.0815,34.5347 Q83.4014,32.8828 85.9082,32.8828 Q86.6138,32.8828 87.2612,33.0322 Q87.9087,33.1816 88.4731,33.4805 L88.4731,36.2031 Q87.8423,35.6221 87.2488,35.3523 Q86.6553,35.0825 86.0244,35.0825 Q84.6797,35.0825 83.9949,36.1492 Q83.3101,37.2158 83.3101,39.3159 Q83.3101,41.4077 83.9949,42.4744 Q84.6797,43.541 86.0244,43.541 Q86.6553,43.541 87.2488,43.2712 Q87.8423,43.0015 88.4731,42.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="100" y="44.291">Command</text><line style="stroke:#181818;stroke-width:0.5;" x1="72" x2="173" y1="55" y2="55"/><line style="stroke:#181818;stroke-width:0.5;" x1="72" x2="173" y1="63" y2="63"/><ellipse cx="82" cy="76.7441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="91" y="80.5352">execute()</text><ellipse cx="82" cy="93.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="91" y="97.0234">undo()</text><ellipse cx="82" cy="109.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="91" y="113.5117">redo()</text></g><!--MD5=[8b2d29e63c4cb10acfe18e03da81e21a]
class MoveCommand--><g id="elem_MoveCommand"><rect codeLine="9" fill="#F1F1F1" height="146.9297" id="MoveCommand" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="231" x="7" y="204"/><ellipse cx="64.75" cy="220" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M67.2231,226.1431 Q66.6421,226.4419 66.0029,226.5913 Q65.3638,226.7407 64.6582,226.7407 Q62.1514,226.7407 60.8315,225.0889 Q59.5117,223.437 59.5117,220.3159 Q59.5117,217.1865 60.8315,215.5347 Q62.1514,213.8828 64.6582,213.8828 Q65.3638,213.8828 66.0112,214.0322 Q66.6587,214.1816 67.2231,214.4805 L67.2231,217.2031 Q66.5923,216.6221 65.9988,216.3523 Q65.4053,216.0825 64.7744,216.0825 Q63.4297,216.0825 62.7449,217.1492 Q62.0601,218.2158 62.0601,220.3159 Q62.0601,222.4077 62.7449,223.4744 Q63.4297,224.541 64.7744,224.541 Q65.4053,224.541 65.9988,224.2712 Q66.5923,224.0015 67.2231,223.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="85.25" y="225.291">MoveCommand</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="237" y1="236" y2="236"/><ellipse cx="18" cy="249.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="27" y="253.5352">Character m_ch</text><ellipse cx="18" cy="266.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="27" y="270.0234">m_old_x</text><ellipse cx="18" cy="282.7207" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="27" y="286.5117">m_old_y</text><ellipse cx="18" cy="299.209" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="27" y="303">m_x</text><ellipse cx="18" cy="315.6973" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="27" y="319.4883">m_y</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="237" y1="326.4414" y2="326.4414"/><ellipse cx="18" cy="340.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="27" y="343.9766">MoveCommand(Character&amp; c)</text></g><!--MD5=[3eff9d4279c887ef9286477750bdaaff]
class Character--><g id="elem_Character"><rect codeLine="17" fill="#F1F1F1" height="130.4414" id="Character" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="281" y="212"/><ellipse cx="314.9" cy="228" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M317.3731,234.1431 Q316.7921,234.4419 316.1529,234.5913 Q315.5138,234.7407 314.8082,234.7407 Q312.3014,234.7407 310.9815,233.0889 Q309.6617,231.437 309.6617,228.3159 Q309.6617,225.1865 310.9815,223.5347 Q312.3014,221.8828 314.8082,221.8828 Q315.5138,221.8828 316.1612,222.0322 Q316.8087,222.1816 317.3731,222.4805 L317.3731,225.2031 Q316.7423,224.6221 316.1488,224.3523 Q315.5553,224.0825 314.9244,224.0825 Q313.5797,224.0825 312.8949,225.1492 Q312.2101,226.2158 312.2101,228.3159 Q312.2101,230.4077 312.8949,231.4744 Q313.5797,232.541 314.9244,232.541 Q315.5553,232.541 316.1488,232.2712 Q316.7423,232.0015 317.3731,231.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="333.1" y="233.291">Character</text><line style="stroke:#181818;stroke-width:0.5;" x1="282" x2="421" y1="244" y2="244"/><ellipse cx="292" cy="257.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="301" y="261.5352">m_last_x</text><ellipse cx="292" cy="274.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="301" y="278.0234">m_last_y</text><line style="stroke:#181818;stroke-width:0.5;" x1="282" x2="421" y1="284.9766" y2="284.9766"/><ellipse cx="292" cy="298.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="301" y="302.5117">getlastx()</text><ellipse cx="292" cy="315.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="301" y="319">getlasty()</text><ellipse cx="292" cy="331.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="301" y="335.4883">move(int x, int y)</text></g><!--MD5=[ee832160c421bdf1e513b2e09b48d058]
class ComandManager--><g id="elem_ComandManager"><rect codeLine="24" fill="#F1F1F1" height="130.4414" id="ComandManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="457" x="217" y="7"/><ellipse cx="382.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M384.7231,29.1431 Q384.1421,29.4419 383.5029,29.5913 Q382.8638,29.7407 382.1582,29.7407 Q379.6514,29.7407 378.3315,28.0889 Q377.0117,26.437 377.0117,23.3159 Q377.0117,20.1865 378.3315,18.5347 Q379.6514,16.8828 382.1582,16.8828 Q382.8638,16.8828 383.5112,17.0322 Q384.1587,17.1816 384.7231,17.4805 L384.7231,20.2031 Q384.0923,19.6221 383.4988,19.3523 Q382.9053,19.0825 382.2744,19.0825 Q380.9297,19.0825 380.2449,20.1492 Q379.5601,21.2158 379.5601,23.3159 Q379.5601,25.4077 380.2449,26.4744 Q380.9297,27.541 382.2744,27.541 Q382.9053,27.541 383.4988,27.2712 Q384.0923,27.0015 384.7231,26.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="402.75" y="28.291">ComandManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="218" x2="673" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="225" y="49.7441"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="237" y="56.5352">stack m_undo_stack</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="225" y="66.2324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="237" y="73.0234">stack m_redo_stack</text><line style="stroke:#181818;stroke-width:0.5;" x1="218" x2="673" y1="79.9766" y2="79.9766"/><ellipse cx="228" cy="93.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="431" x="237" y="97.5117">executeCmd(Character&amp; c, shared_ptr&lt;Command&gt; command)</text><ellipse cx="228" cy="110.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="237" y="114">undo()</text><ellipse cx="228" cy="126.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="237" y="130.4883">redo()</text></g><!--MD5=[93591ac5574234e55a09794fae331a08]
reverse link Command to MoveCommand--><g id="link_Command_MoveCommand"><path codeLine="2" d="M122.5,141.93 C122.5,160.66 122.5,181.03 122.5,200.1 " fill="none" id="Command-backto-MoveCommand" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="115.5,141.98,122.5,121.98,129.5,141.98,115.5,141.98" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[247fa6f4e511012b8349c6cceff33448]
reverse link MoveCommand to Character--><g id="link_MoveCommand_Character"><path codeLine="32" d="M239.5,248 C253.04,252.52 267.22,257.88 280.75,263 " fill="none" id="MoveCommand-backto-Character" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="239.5,248,243.9247,253.6941,250.8825,251.7998,246.4579,246.1057,239.5,248" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[41889f1f685b7b72b8fa34549f0793c0]
link Command to ComandManager--><g id="link_Command_ComandManager"><path codeLine="33" d="M174.25,56.55 C184.23,54.42 194.86,52.7 205.29,51.93 " fill="none" id="Command-to-ComandManager" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="214.99,51.56,208.8405,47.7938,202.9989,52.0217,209.1483,55.7879,214.99,51.56" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[41889f1f685b7b72b8fa34549f0793c0]
link Command to ComandManager--><g id="link_Command_ComandManager"><path codeLine="34" d="M174.16,68.53 C184.14,68.1 194.72,67.75 205.02,67.59 " fill="none" id="Command-to-ComandManager-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="214.99,67.51,208.9594,63.5563,202.9904,67.6023,209.0209,71.556,214.99,67.51" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ac2980291ffb0d6af2e06ccf40dbcf28]
@startuml command
    abstract class Command 
    Command <|- - MoveCommand

    class Command {
       +execute()
       +undo()
       +redo()
    }
    class MoveCommand {
        +MoveCommand(Character& c)
        +Character m_ch
        +m_old_x
        +m_old_y
        +m_x 
        +m_y
    }
    class Character {
       +m_last_x
       +m_last_y
       +getlastx()
       +getlasty()
       +move(int x, int y)
    }
    class ComandManager {
       +executeCmd(Character& c, shared_ptr<Command> command)
       +undo()
       +redo()
       -stack m_undo_stack
       -stack m_redo_stack

    }
    MoveCommand::m_ch o- Character 
    Command -o ComandManager::m_undo_stack
    Command -o ComandManager::m_redo_stack
@enduml

PlantUML version 1.2022.13(Sat Nov 19 07:22:17 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: MX
--></g></svg>